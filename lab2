"""
Лабораторная работа №2
Написать программу, решающую задачу из 1 лабораторной работы (в соответствии со своим вариантом) со следующими изменениями:
1.	Входной файл является обыкновенным (т.е. нет требования на «бесконечность» файла);
2.	Распознавание и обработку делать через регулярные выражения;
3.	В вариантах, где есть параметр (например К), допускается его заменить на любое число;
4.	Все остальные требования соответствуют варианту задания лабораторной работы №1.

Вариант 19.
Нечетные двоичные числа, не превышающие 8192  в 10-ой с.и.,
в которых встречается не менее одной серии из двух подряд идущих единиц.
Выводит на экран цифры числа, исключая единицы.
Отдельно выводится прописью номер позиции, с которой начинается эта серия.
"""
# -*- coding: utf-8 -*-
import re
dictionary = {'0':'ноль', '1':'один', '2':'два', '3':'три', '4':'четыре', '5':'пять', '6':'шесть', '7':'семь', '8':'восемь', '9':'девять'}
beginseries = 0
h = 0
d = 0
q2 =''
t_b = False
file = open("text.txt", "r", encoding="utf8")
while True:
    a = file.readline().split()
    if not a:
        print("Файл text.txt пуст или закончился")
        break
    else:
        for q in a:
            res= re.findall(r'([0-1]{0,11}11|11[0-1]{0,10}1)|[0-1]{0,5}11[0-1]{0,5}1',q)
            if len(res) == 1:
                if len(q) == len(res[0]):
                    for i in range(len(q)-1):
                        if q[i] == '1' and q[i+1] == '1':
                            beginseries = i
                            t_b = True
                            break
                    if t_b:
                        d = int(q, base = 2)
                        print(q)
                        print(d)
                        d2 = str(d)
                        for i in range(len(d2)):
                            if d2[i] != '1':
                                q2 += d2[i]   
                        print(q2)
                        q2 = ''
                        h += 1
                        beginstr = str(beginseries)
                        print('Индекс, с которого начинается серия из двух идущих подряд единиц:')
                        for i in range(len(beginstr)):
                            print(dictionary[beginstr[i]])                            
                t_b = False
                q2=''
                beginseries = 0
                res = []
                if h == 0:
                    print('В файле нет чисел удовлетворяющих условию')
